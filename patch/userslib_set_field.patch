--- ../estudiolivre_base/lib/userslib.php	2006-05-12 16:53:06.000000000 -0300
+++ lib/userslib.php	2006-06-09 18:51:34.000000000 -0300
@@ -1982,6 +1982,22 @@
 	return $result;
     }
 
+    //this function sets ione user field
+    function set_user_field($name, $value) {
+
+	global $user;
+
+	$aUserPrefs = array('realName','site','local', 'isPublic');
+	if (in_array($name, $aUserPrefs)) {
+	    $result = $this->set_user_preference($user, $name, $value);
+	} else {
+	    $query = "UPDATE `users_users` set `$name`='$value' where `login`='$user'";
+	    $result = $this->query($query);
+	}
+
+	return $result;
+    }
+
     // damian aka damosoft
     function count_users($group) {
         static $rv = array();
